---
title: "Lesson_2b"
author: "Chen"
date: "2024-09-09"
output:
  learnr::tutorial:
    progressive: true
    allow_skip: true
runtime: shiny_prerendered
---

<style>
h1, h2, h3, h4, h5, h6 {
  direction: rtl;
}
p {
  direction: rtl;
}
</style>


<!-- tutorial options and checking options - TODO set params -->
```{r setup, include=FALSE}
library(learnr)

tutorial_options(
  exercise.timelimit = 60,
  # A simple checker function that just returns the message in the check chunk
  exercise.checker = function(check_code, ...) {
    list(
      message = eval(parse(text = check_code)),
      correct = logical(0),
      type = "info",
      location = "append"
    )
  }
)
knitr::opts_chunk$set(error = TRUE)
```

## וקטורים
וקטורים הם משתנים הפשוטים ביותר שמכילים יותר מערך אחד. למשל אם נרצה לאמוד ערך אחד עבור כל תלמיד בכיתה ונרצה לאכסן את כל המידע של הכיתה במשתנה אחד.
  בR מגדירים וקטור על ידי שימוש ב`c()`. כל האיברים שיכנסו לוקטור יוגדרו בתוך הסוגריים ויופרדו בפסיק.   לדוגמה:

```{r}
# דוגמה להגדרת וקטור
c(1, 2, 3, 4)

# גם וקטורים ניתן להגדיר כמשתנים
vector <- c(10, 20, 30, 40)

# לאחר שהגדרנו וקטור, אפשר גם לבודד את האיברין שלו, כך למשל נדפיס את האיבר השלישי
vector[3]
```

אם נחזור לדוגמה שלנו על שאלון האישיות נוכל לקבל נתונים שונים עבור יותר ממשתתף אחד.
קבוצת חברים מסוימת ענתה על השאלון שלנו, להלן סידור של נתוניהם בוקטורים:
```{r}
# וקטור השמות של המשתתפים - שימו לב! וקטור יכול להכיל גם מחרוזות ולא רק מספרים
c("Ross", "Chandler", "Joey", "Rachel", "Monica", "Phoebe")

# שימו לב, כדי שנשמור את הנתונים עלינו להגדיר משתנה
names <- c("Ross", "Chandler", "Joey", "Rachel", "Monica", "Phoebe")

# עכשיו נוכל לקבל גם מידע על ציונהם של הקבוצה בתכונה "מוסר עבודה" - C
ave_C <- c(6, 4, 2, 3, 7, 1)
```

תרגיל: הגדירו וקטור נוסף של ציוני הקבוצה בתכונה של "מוחצנות". הגדירו וקטור חדש שנקרא ave_E ובו כל משתתף קיבל ציון של 3. 
```{r def_vec_ex, exercise=TRUE, exercise.eval = False}
ave_E <- c(3, 3, 3, 3, 3, 3)
  
```

```{r final_ex3-solution}
major <- "Psychology"
# הציבו את התשובה שלכם מהתרגיל הקודם
N_ratio <- 0.15
# כאן בצעו את ההשואה והדפיסו את התוצאה
is_low_N <- N_ratio <= 0.2 & (major == "Psychology" | major == "Social work")
is_low_N
```

### פונקציות בסיסיות
כעת נלמד איך לבצע מספר פעולות פשוטות על וקטורים
?איך נוכל לחשב את סכום הוקטור 
הדרך שהכרנו עד עכשיו תדרוש מאיתנו לבודד איבר איבר ולחבר בניהם באמצעות +. אך שפת התכנות יצרה עבורינו _פונקציות_ אשר יכולות לבצע פעולות שכאלה בצורה יעילה

```{r}
# נחזור לוקטור שיצרנו קודם
vector <- c(10, 20, 30, 40)

# נחשב באמצעות פעולת חיבור
vector_sum <- vector[1] + vector[2] + vector[3] + vector[4]

# ועכשיו באמצעות הפונקציה sum()
vector_sum_2 <- sum(vactor)

# עכשיו אנחנו יכולים לבדוק שהתוצאה היא אכן זהה
vector_sum_2 == vector_sum

```

פונקציה נוספת שיכולה להיות שימושית היא הפונקציה `length()`. כמו שיכולתם לנחש, פונקציה זאת מחשבת את האורך של הוקטור, או יותר נכון את כמות האיברים שלו.
אם נריץ את שורת הקוד הבאה:  
length(vector)  

```{r vector_question, echo = FALSE}
question(" מה תהיה התוצאה?",
         answer("4", correct = TRUE),
         answer("100", message = "זאת תהיה התוצאה של הפונקציה שמחשבת את סכום הוקטור ולא האורך שלו"),
         answer("Flse", message = "זהו ערך לוגי, אורך הוקטור יהיה מספר"),
         answer("5", message = "קרוב אבל לא בדיוק! בוקטור שלנו יש רק 4 איברים."),
         allow_retry = TRUE
)
```

### עבודה עם מספר וקטורים 
כמו שאתם בוודאי יכולים לנחש, במחקר אנחנו לרוב עובדים עם נתונים על כמה משתנים. מאוד שימושי לקחת מידע ממשנת אחד ולהשתמש בו בשילוב עם משתנה אחר.
למשל בדוגמה הבאה ננסה לחשב את הציון הממוצע בכיתה.
```{r}
# יש לנו 7 תלמידים בכיתה ואלה הם הציונים שלהם
grades <- c(100, 80, 70, 40, 40, 94, 62)

# עכשיו נוכל לחשב את הממוצע של הכיתה. כעת נכיר עוד פונקציה שימושית mean() אתם יכולים לנחש מה היא עושה?
mean(grades)

# בעצם ציון של מתחת ל60 לא מספיק כדי לעבור! בואו נחשב מי עבר את הקורס:

pass <- grades >= 60
# שימו לב! ציון של 60 הוא עובר ולכן בחרנו ב<=

pass
# מה התקבל? וקטור עם ערכים לוגיים

# עכשיו נחשב את הממוצע שוב עבור כל מי שעבר
mean(grades[pass])
# שימו לב אפשר להשתמש בוקטור pass שיצרנו קודם, אשר מכיל ערכים לוגים כדי לבחור רק את הערכים שקיבלו ערך נכון.

# אם נרצה לבחור רק את אלה שלא עברו מבלי לייצר וקטור נוסף נוכל להשתמש ב!

mean(grades[!pass])

```

## תרגיל מסכם


## הגשת התרגיל
  סיימת? מעולה! עכשיו הגיע הזמן להגיש את התרגיל.  
  יש ללחוץ על הכפתור:  Generate  
  להעתיק את הטקסט שמופיע בחלון למטה ולהגישו במודל  
  בהצלחה!

```{r context="server"}
learnrhash::encoder_logic()
```

```{r encode, echo=FALSE}
learnrhash::encoder_ui()
```

