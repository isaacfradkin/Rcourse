---
title: "Lesson2_Variables"
author: "Chen"
date: "2024-08-21"
output:
  learnr::tutorial:
    progressive: true
    allow_skip: true
runtime: shiny_prerendered
---

<style>
h1, h2, h3, h4, h5, h6 {
  direction: rtl;
}
p {
  direction: rtl;
}
</style>


<!-- tutorial options and cheching options - TODO set params -->
```{r setup, include=FALSE}
library(learnr)

tutorial_options(
  exercise.timelimit = 60,
  # A simple checker function that just returns the message in the check chunk
  exercise.checker = function(check_code, ...) {
    list(
      message = eval(parse(text = check_code)),
      correct = logical(0),
      type = "info",
      location = "append"
    )
  }
)
knitr::opts_chunk$set(error = TRUE)
```

## פעולות בסיסיות

ברוכות וברוכים הבאים!
בחלק הראשון של השיעור נלמד על פעולות בסיסיות שניתן לבצע בשפת התכנות. 
באופן הבסיסי ביותר, אנחנו יכולים להשתמש בשורת הפקודה כמו במחשבון.  
לדוגמה, בשורת הקוד הבאה מופיע תרגיל פשוט (1+1), כאשר תריצו את הקוד תודפס לכם התוצאה. נסו לערוך את הקוד ולחבר מספרים שונים.
  
```{r basic_op_example_a, exercise=TRUE, exercise.eval = FALSE}
1 + 1
```

חיבור היא דוגמה לפעולה אחת שאפשרית בשפת התכנות. בחלק זה נלמד להכיר כמה קבוצות של פעולות (או oparetors) ונתרגל את השימוש בהן.

### פעולות אריתמתיות
הסוג הראשון והפשוט ביותר הן פעולות החשבון הבסיסיות שכולנו מכירים:
`+` - חיבור
`-` - חיסור
`*` - כפל
`/` - חילוק
`^` - חזקה


### פעולות יחסיות
פעולות שנועדו לאפשר לנו להשוות בין שני משתנים שונים.
בניגות לפעולות אריתמתיות כאשר נשתמש בפעולות מסוג זה התוצאה תהיה "נכון" או "לא נכון" (TRUE או FALSE) ולא מספר. שכן אנחנו
`>` - גדול מ
`<` - קטן מ
`>=` - גדול שווה ל
`<=` - קטן שווה ל
`==` - שווה ל
`!=` - שונה מ


### פעולות לוגיות
כדי לשלב שתי פעולות יחסיות נוכל להשתמש בפעולות לגויות. אשר יקחו שני היגדים יחסיים ונוכל לברר האם שניהם מתקיימים, אחד מהם או אף אחד מהם.
`&` - גם
`|` - או
`!` - לא

### פעולות השמה
נושא זה כבר מתקשר לחלק השני של השיעור. המשתנים. הרחבה לגבי מה הוא בדיוק משתנה תמצאו בחלק הבא. אבל סוג הפעולה האחרון שנלמד להכיר הוא פעולת ההשמה. פעולת השמה היא קביעה שמשתנה מסוים שווה לערך מסוים. בR יש שתי דרכים לבצע פעולת השמה:
  
`->`   
או   
`=`  
אפשר להשתמש בשתי הדרכים. כדי לגלות איך משתמשים בהם, עברו לחלק הבא.

## משתנים
כדי לבצע פעולות מורכבות יותר באמצעות שפת התכנות נצטרך להשתמש במשתנים. המשתנים מאפשרים לנו לאכסן מידע בזכרון של שפת התכנות. כך אנחנו יכולים להשתמש בערכים מסוימים שוב ושוב וגם לעדכן אותם בהתאם לצרכינו.  
כאשר מבצעים _השמה של משתנה_ אנחנו צריכים לפרט שני מרכיבים:
1. השם של המשתנה
2. הערך של המשתנה  

לדוגמה בקוד מטה מופיעה דוגמה פשוטה של השמת משתנה. שם המשתנה בדוגמה זאת הוא a והערך שלו 5.  
כלומר, החץ מצביע אל שם המשתנה.
שנו את שם המשתנה לשם שלכם ואת הערך לגיל שלכם והריצו את הקוד.

```{r var_example_a, exercise=TRUE, exercise.eval = FALSE}
a <- 5
```
```{r var_example_a-check}
"למה לא קרה כלום? כשמאכסנים ערך במשתנה, הוא רק מאוכסן ולא מוצג. אם נרצה להציג אותו נצטרך לרשום את שם המשתנה בשורה נפרדת. ערכו את הקוד והריצו שנית ."
```

ניתן גם להשתמש במשנים וגם בערכים כדי להשתמש בכל הפעולות שהכרנו בחלק הקודם.
למשל:

```{r}
# קודם כל נגדיר את המשתנים .
x <- 3
y <- 4

# אפשר לבצע פעולות פשוטות עם המשתנים
x+y

# וגם ליצור משתנה חדש שמבוסס על פעולות
ratio <- a/b

# נציג את התוצאה
ratio

# עכשיו נוכל להשוות בין המשתנים
is_b_bigger <- a < b
```

האם שמתם לב המשתנים a וb שונים מהמשתנים הנוספים שנוצרו בקוד למעלה?  


```{r var_question, echo = FALSE}
question(" מה לדעתכם ההבדל הקריטי?",
         answer("סוג הערך שמאוכסן במשתנים ", correct = TRUE),
         answer("השם של המשתנים הללו כולל מילה שלמה ולא רק אות", message = "האמנם זהו הבדל בין המשתנים, אך זה לא הבדל קריטי, שם המשתנה יכול להיות כל דבר. מילה מלאה, אות ואפילו כמה מילים או מספרים. כל עוד לא כללנו רווח."),
         answer("העובדה שמשתנים אלה הם תוצאה של חישוב ולא ערך", message = "זה אכן נראה כמו הבדל חשוב, אבל האמת היא שלשפת התכנות לא אכפת איך נוצר המשתנה, היא רק מאכסנת את הערך הסופי שמתקבל"),
         answer("שם המשתנים כולל קו תחתון", message = "בהמשך להסבר של תשובה 2, קו תחתון היא אחד הדרכים ליצור משתנה שמורכב מכמה מילים ללא רווחים"),
         allow_retry = TRUE
)
```

בחלק הבא נלמד על סוגי המשתנים השונים 

`Integer` -  הערך של המשתנה הוא מספר שלם
`Float` - הערך של המשתנה הוא שבר
`String` - הערך של המשתנה הוא טקסט
`Logical` - הערך של המשתנה הוא לוגי, כלומר נכון או לא נכון

### משתנים מספריים
עד כה למדנו להכיר בעיקר משתנים מספריים. בשפת התכנות יש הבדל בין שברים למספרים שלמים, על חלק מהם נלמד בהמשך. עכשיו בואו נתרגל יצירת משתנים משני הסוגים.  
תרגיל: צרו משתנה שנקרא int ובו מספר שלם.
צרו משתנה שנקרא flo ובו שבר וחברו בינהם.  
מהו סוג המשתנה שנוצר?
```{r int_ex, exercise=TRUE, exercise.eval = FALSE}

```

```{r int_ex-check}
"כיוון שחיברנו שבר עם מספר שלם התוצאה היא שבר. כלומר משתנה מסוג float"
```

```{r int_ex-solution}
int <- 5
float <- 0.5
int + float
```
### משתנים מסוג טקסט
לא כל המשתנים בשפת התכנות חייבים להיות מספריים. ניתן גם להשתמש בטקסט בשפת התכנות. משתנים המכילים טקסט נקראים string כיוון שהם מהווים "שרשרת" של אותיות.  
שפת התכנות מבדילה בין שמות המשתנים לערך שהינו טקסט על ידי שימוש בגרשיים `""`.  
תרגיל: צרו משתנה שנקרא name ומכיל את השם שלכם באנגלית.

```{r str_ex, exercise=TRUE, exercise.eval = FALSE}

```

```{r str_ex-check}
"במתשנה מסוג זה ניתן לכלול רווחים, וכל תו אחר :)"
```

```{r str_ex-solution}
name <- "Jhon Smith"

```

### משתנים לוגיים
משתנה לוגי יכול לקבל שני ערכים, נכון (True) או לא נכון (False). 
יש למשתנים אלה שימושים רבים, הרבה מהם נלמד להכיר בהמשך. כרגע נתמקד בכך שאם נאכסן בתוך משתנה השווה בין שני משתנים המשתנה שיווצר יהיה משתנה לוגי שיכיל את תוצאת ההשוואה.  
תרגיל: צרו משתנה שנקרא log_1 אשר יכיל ערך לוגי המשווה בין משתנה a לb ובודק אם הם זהים.
לאחר מכן צרו משתנה שנקרא log_2 שמכיל השוואה נוספת ובוחן האם c גדול מd.

```{r log_ex, exercise=TRUE, exercise.eval = FALSE}
a <- "a"
b <- "a"

# חשבו כאן את log_1

log_1

c <- 1
d <- 10

# חשבו כאן את log_2

log_2
```

```{r log_ex-check}
"ניתן לייצר השוואות לוגיות בין מגוון סוגי משתנים!"
```

```{r log_ex-solution}

log_1 <- a == b

log_2 <- c > d
```


שמתם לב שעד עכשיו היינו מוגבלים לערך אחד בלבד בכל משתנה? עברו לחלק הבא כדי לגלות איך ליצור משתנים שמכילים כמה ערכים.

## Vectors
וקטורים הם משתנים הפשוטים ביותר שמכילים יותר מערך אחד. למשל אם נרצה לאמוד ערך אחד עבור כל תלמיד בכיתה ונרצה לאכסן את כל המידע של הכיתה במשתנה אחד.
  בR מגדירים וקטור על ידי שימוש ב`c()`. כל האיברים שיכנסו לוקטור יוגדרו בתוך הסוגריים ויופרדו בפסיק.   לדוגמה:

```{r}
# דוגמה להגדרת וקטור
c(1, 2, 3, 4)

# גם וקטורים ניתן להגדיר כמשתנים
vector <- c(10, 20, 30, 40)

# לאחר שהגדרנו וקטור, אפשר גם לבודד את האיברין שלו, כך למשל נדפיס את האיבר השלישי
vector[3]
```

כעת נלמד איך לבצע מספר פעולות פשוטות על וקטורים  
?איך נוכל לחשב את סכום הוקטור 
הדרך שהכרנו עד עכשיו תדרוש מאיתנו לבודד איבר איבר ולחבר בניהם באמצעות +. אך שפת התכנות יצרה עבורינו _פונקציות_ אשר יכולות לבצע פעולות שכאלה בצורה יעילה

```{r}
# נחזור לוקטור שיצרנו קודם
vector <- c(10, 20, 30, 40)

# נחשב באמצעות פעולת חיבור
vector_sum <- vector[1] + vector[2] + vector[3] + vector[4]

# ועכשיו באמצעות הפונקציה sum()
vector_sum_2 <- sum(vactor)

# עכשיו אנחנו יכולים לבדוק שהתוצאה היא אכן זהה
vector_sum_2 == vector_sum

```

פונקציה נוספת שיכולה להיות שימושית היא הפונקציה `length()`. כמו שיכולתם לנחש, פונקציה זאת מחשבת את האורך של הוקטור, או יותר נכון את כמות האיברים שלו.
אם נריץ את שורת הקוד הבאה:  
length(vector)  

```{r vector_question, echo = FALSE}
question(" מה תהיה התוצאה?",
         answer("4", correct = TRUE),
         answer("100", message = "זאת תהיה התוצאה של הפונקציה שמחשבת את סכום הוקטור ולא האורך שלו"),
         answer("Flse", message = "זהו ערך לוגי, אורך הוקטור יהיה מספר"),
         answer("5", message = "קרוב אבל לא בדיוק! בוקטור שלנו יש רק 4 איברים."),
         allow_retry = TRUE
)
```

## תרגיל מסכם


## הגשת התרגיל
  סיימת? מעולה! עכשיו הגיע הזמן להגיש את התרגיל.  
  יש ללחוץ על הכפתור:  Generate  
  להעתיק את הטקסט שמופיע בחלון למטה ולהגישו במודל  
  בהצלחה!

```{r context="server"}
learnrhash::encoder_logic()
```

```{r encode, echo=FALSE}
learnrhash::encoder_ui()
```


